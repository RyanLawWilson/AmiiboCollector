{% extends 'FootyDemo/footy_base.html' %}
{% load staticfiles %}
{% block templatecontent %}
<section>
    <div class="flex-container wrapper">
        <form method="post">
            {% csrf_token %}
            <label>Select an Area of the World:</label>
            <select name="parentArea" id="parentArea">
                {% for area in world.childAreas %}
                    {% if parents.id == area.id %}
                        <option value="{{area.id}}" selected>{{area.name}}</option>
                    {% else %}
                        <option value="{{area.id}}">{{area.name}}</option>
                    {% endif %}
                {% endfor %}
            </select>
            <button type="submit" name="submit" value="submit">Select Area</button>
        </form>

        {% if parents != None %}
            <form method="post">
                {% csrf_token %}
                <label>Select a Country:</label>
                <select name="childArea" id="childArea">
                    {% for area in parents.childAreas %}
                        {% if childArea == area.id %}
                            <option value="{{area.id}}" selected>{{area.name}}</option>
                        {% else %}
                            <option value="{{area.id}}">{{area.name}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
                <input type="hidden" name="parentArea" value="{{parents.id}}">
                <button type="submit" name="submit" value="submit">Filter for Country</button>
                <button type="submit" name="submit" value="noFilter">Get All Leagues</button>
            </form>

            {% if leagues != None %}
                <form method="post">
                    {% csrf_token %}
                    <label>Select a League:</label>
                    <select name="league" id="league">
                        {% for league in leagues.competitions %}
                            <option value="{{league.id}}">{{league.name}}</option>
                        {% endfor %}
                    </select>
                    <button type="submit" name="submit" value="submit">Get Matches</button>
                </form>
            {% endif %}
        {% endif %}
    </div>
    <div class="flex-container">
        <img src="{% static 'images/FootyLeagues.png' %}" alt="Leagues available for free" />
        <p class="wrapper">While the list of areas, countries, and leagues it extensive,
        the free API only has access to information for these 12 leagues.</p>
    </div>
</section>
{% endblock %}